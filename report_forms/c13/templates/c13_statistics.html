{% extends "base.html" %}
{% load i18n %}
{% block header %}<div id="content_home">{% trans "C.13. Needle stick injuries" %}</div>{% endblock header %}

{% block content %}
{#    {% trans "Overall:" %} {{ overall }}<br />#}
{#    {% trans "Removed:" %} {{ removed }}<br />#}
{#    {% trans "Counted:" %} {{ counted }}<br />#}
{#    <br />#}
    <table class="needle">
        <tr>
            <th>{% trans "Job" %}</th>
            <th>{% trans "Job" %}</th>
            <th>{% trans "Job" %}</th>
            <th>{% trans "Job" %}</th>
            <th>{% trans "Job" %}</th>
        </tr>
        {% for job in stuff %}
        <tr>
            <td>{{ job.0 }}</td>
            <td>{{ job.1 }}</td>
            <td>{{ job.2 }}</td>
            <td>{{ job.3 }}</td>
            <td>{{ job.4 }}</td>
        </tr>
        {% endfor %}
    </table>
{% endblock content %}

{% block js %}
    <script src="{{ STATIC_URL }}js/jquery.bargraph.min.js"></script>
    <script style="text/javascript">
    var DataForGraph = new Array(
        ["{{ indicator_one|floatformat:"2" }}".replace(",","."), '30 days','red'],
        ["{{ subindicator_one|floatformat:"2" }}".replace(",","."),'30 days wo trans','green'],
        ["{{ subindicator_two|floatformat:"2" }}".replace(",","."),'2 days','blue']
    );
    $('.bargraph').jqBarGraph({
                                data: DataForGraph,
                                postfix: '%',
                                width: 940,
                                barSpace: 80
    });
    </script>
{% endblock js %}